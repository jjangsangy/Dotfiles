#!/usr/bin/env python
# -*- coding: utf-8 -*-


"""
Takes in a one argument for a text file containing a list of directories
seperated by newline. Create all those directories within the present working
directory
"""

from __future__ import print_function, unicode_literals

import os
import sys

def make_directories(path):
    with open(path, 'rt') as directories:
        for dirs in directories:
            try:
                if dirs.strip():
                    directory_name = dirs.strip().replace(',', ' ').replace('\t', ' ')
                    os.makedirs(directory_name, mode=0755)
                    print('Making directories %s' % directory_name)
            except OSError:
                print('Directory %s already exists' % dirs.strip())

def main():
    if os.path.isfile(sys.argv[1]):
        make_directories(sys.argv[1])
    else:
        print('No file at %s' % sys.argv[1])

if __name__ == '__main__':
    main()
